###############################################################################
# marc_local.properties -- local overrides to standard VuFind MARC mappings.  #
#                          All settings in this file override equivalent      #
#                          settings in marc.properties.                       #
###############################################################################

# VuFind overrides - All TuFind instances
format = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getFormatsWithoutElectronic, format_map.properties
publishDate = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getDatesBasedOnRecordType
publishDateSort = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getPublicationSortDate
title = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getMainTitle
title_auth = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getMainTitle
title_short = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getTitleSubfield("a")
title_sub = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getTitleSubfield("b")

# VuFind overrides - Only KrimDok
allfields = custom, getAllSearchableFieldsAsSet(92, 900)
author = 100abc, first
author2 = 110ab:111ab:700abc:710ab:711ab
collection = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getCollections
edition = 250a
era = custom, getAllSubfields(648, " ")
era_facet = 600d:610y:611y:630y:648a:648y:650y:651y:655y
genre = custom, getAllSubfields(655, " ")
genre_facet = 600v:610v:611v:630v:648v:650v:651v:655a:655v
geographic = custom, getAllSubfields(651, " ")
geographic_facet = 600z:610z:611z:630z:648z:650z:651a:651z:655z
institution = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getInstitution
isbn = 020a
issn = 022a:440x:490x:730x:773x:776x:780x:785x
publisher = custom(org.vufind.index.PublisherTools), getPublishers
topic = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getAllTopics
topic_facet =custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getFacetTopics

# additional common fields - All TuFind instances (see schema_tufind_fields.xml)
container_ids_and_titles = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getContainerIdsWithTitles
is_superior_work = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), isSuperiorWork
issue = 936e
#careful: journal_issue is a common field, but configuration for ixtheo is different than for krimdok!!!
journal_issue = 773ag
pages = 936h
superior_ppn = 800w:810w:830w:773w:776w, (pattern_map.superior_ppn)
pattern_map.superior_ppn.pattern_0 = .DE-576.(.*)=>$1
urls_and_material_types = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getUrlsAndMaterialTypes
volume = 936d
year = 936j

# additional custom fields - Only KrimDok (see schema_krimdok_fields.xml)
abr = 935a
article_page_range = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getPageRange
available_in_tubingen = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), isAvailableInTuebingen
container_issue = 936f
content = 935c
fid_systematik =  custom(de.unituebingen.ub.ubtools.solrmarcMixin.FidSystematikMixin), getFIDSystematik
fid_systematik1 = custom(de.unituebingen.ub.ubtools.solrmarcMixin.FidSystematikMixin), getFIDSystematik1
fid_systematik2 = custom(de.unituebingen.ub.ubtools.solrmarcMixin.FidSystematikMixin), getFIDSystematik2
fid_systematik3 = custom(de.unituebingen.ub.ubtools.solrmarcMixin.FidSystematikMixin), getFIDSystematik3
fid_systematik4 = custom(de.unituebingen.ub.ubtools.solrmarcMixin.FidSystematikMixin), getFIDSystematik4
fid_systematik5 = custom(de.unituebingen.ub.ubtools.solrmarcMixin.FidSystematikMixin), getFIDSystematik5
fulltext = custom, getFulltext(856e)
gkdnum = 1100
instituts_systematik1 = custom(de.unituebingen.ub.ubtools.solrmarcMixin.FidSystematikMixin), getInstitutsSystematik1
instituts_systematik2 = custom(de.unituebingen.ub.ubtools.solrmarcMixin.FidSystematikMixin), getInstitutsSystematik2
isil = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getIsils
local_signature = SIGa
media = 935b
multipart_set = 000[19]
multipart_link = 773w[8-16]:800w[8-16]:810w[8-16]:811w[8-16]:830w[8-16]
multipart_part = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getSuperMP("773q:800q:773g:800v:810v:811v:830v")
pndnum = 1000
rvk = 936b
rvk-notation = 936a
tue_local_indexed_date = custom(de.unituebingen.ub.ubtools.solrmarcMixin.TuelibMixin), getTueLocalIndexedDate
